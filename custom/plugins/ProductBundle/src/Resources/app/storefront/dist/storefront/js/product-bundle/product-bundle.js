(()=>{console.log("ProductBundle JS loaded"),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".open-bundle-modal"),t=document.querySelectorAll(".bundle-modal"),n=document.querySelectorAll(".close-modal");e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("data-product-id"),n=this.parentElement.parentElement.querySelector(".bundle-modal"),o=n.querySelector("#bundle-products-list");n.style.display="block",fetch("/product-bundle-details/".concat(t)).then(e=>e.json()).then(e=>{if(e.bundles&&e.bundles.length>0){let t="";e.bundles.forEach(e=>{t+='<p style="font-weight: bold; margin-bottom: 1rem;">Bundle: '.concat(e.bundleName,"</p>"),e.products.forEach(e=>{t+='\n                                    <div style="margin-bottom: 0.5rem; padding: 0.5rem; border-bottom: 1px solid #eee;">\n                                        <strong>'.concat(e.productName,'</strong>\n                                        <span style="float: right;">Quantity: ').concat(e.quantity,"</span>\n                                    </div>\n                                ")})}),o.innerHTML=t}else o.innerHTML="<p>No bundle details found</p>"}).catch(e=>{console.error("Error fetching bundle details:",e),o.innerHTML='<p style="color: red;">Error loading bundle details</p>'})})}),n.forEach(function(e){e.addEventListener("click",function(){this.closest(".bundle-modal").style.display="none"})}),t.forEach(function(e){e.addEventListener("click",function(e){e.target===this&&(this.style.display="none")})})})})();