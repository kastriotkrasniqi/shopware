{% sw_extends '@Storefront/storefront/component/product/card/badges.html.twig' %}

{% block component_product_badges %}
    {{ parent() }}

    {% if product.extensions.isBundle and product.extensions.isBundle.get('isBundle') %}
        <div class="product-detail-badge" style="display: flex; justify-content: flex-end; width: 100%;">
            <a href="#"
               class="open-bundle-modal"
               data-product-id="{{ product.id }}"
               style="display: inline-flex; align-items: center; padding: 0.25rem 0.75rem; background-color: #ff9b9b; color: white; font-size: 0.875rem; font-weight: 600; border-radius: 9999px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); text-transform: uppercase; margin-left: 0.25rem;">
                Bundle
            </a>
        </div>

        <!-- Modal Structure -->
        <div class="bundle-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000;">
            <div class="modal-content" style="position: relative; background: #fff; padding: 2rem; border-radius: 8px; max-width: 500px; margin: 50px auto; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <h3>Bundle Details</h3>
                <div id="bundle-products-list">
                    <!-- Products will be dynamically loaded here -->
                </div>
                <button class="close-modal" style="position: absolute; top: 10px; right: 10px; padding: 0.5rem 1rem; background: #333; color: white; border: none; border-radius: 4px; cursor: pointer;">
                    Close
                </button>
            </div>
        </div>
    {% endif %}
{% endblock %}
